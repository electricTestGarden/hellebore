---
/** 
 * I have no idea if this is the correct way to insert scripts in astro, but it works.
 * 
 * This is the code to open and close the 'transcript' element on the comic blog page
 */
---
<script>
document.addEventListener("DOMContentLoaded", function(){
    document.addEventListener('click', function (event) {
        if (event === null || event.target === null) {
            // Bail if we don't have an event target
            return;
        } 

        // Cast to element so we don't have as many type problems
        const element = event.target as HTMLElement;

        if (element.matches('#transcript-link')) { 
            event.preventDefault();

            const transcript = document.getElementById('transcript');

            // Bail if transcript doesn't exist
            if (!transcript) { return; }

            if (transcript.classList.contains("hidden")) {
                transcript.classList.remove("hidden");
            } else {
                transcript.classList.add("hidden");
            }

        } 
        
        }, false);
});
</script>